(this.webpackJsonpfiszki=this.webpackJsonpfiszki||[]).push([[0],{20:function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX",Logo:"NavigationItems_Logo__1H4MB",NavRightSide:"NavigationItems_NavRightSide__BtLx5"}},23:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc"}},27:function(e,t,n){e.exports={Button:"Button_Button__3gFiX"}},38:function(e,t,n){e.exports={Modal:"Modal_Modal__1-5dN"}},39:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1DApN"}},4:function(e,t,n){e.exports={Form:"Auth_Form__1Tklh",Data:"Auth_Data__3mHp3",Title:"Auth_Title__1SJa0",InputWrapper:"Auth_InputWrapper__3O7B5",Input:"Auth_Input__2LQ-q",LabelDescription:"Auth_LabelDescription__1V6zj",InvalidResponse:"Auth_InvalidResponse__FtpDT",AuthMode:"Auth_AuthMode__3WJth"}},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(16),r=n.n(i),s=(n(45),n(46),n(3)),o=(n(47),n(12)),l=n(20),u=n.n(l),d=n(23),j=n.n(d),h=n(14),m=n(1),p=function(e){var t=e.link,n=e.exact,a=e.children;return Object(m.jsx)("li",{children:Object(m.jsx)(h.b,{className:j.a.NavigationItem,to:t,exact:n,activeClassName:j.a.active,children:a})})},b=function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)&&n}if(t.isStrongPassword){n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(e)&&n}return n},O={isRequired:!0,minLength:3},g={isRequired:!0,isEmail:!0,minLength:3},f={isRequired:!0,isStrongPassword:!0,minLength:8},v=n(19),x=n(27),_=n.n(x),I=function(e){return Object(m.jsx)("button",{className:[_.a.Button,_.a[e.ButtonType]].join(" "),children:e.children})},N=n(4),S=n.n(N),k=n(18),A=n.n(k),y="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCAvwqMshaacWEh3_yqtFXiQ-yluJ2w4i0",w="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCAvwqMshaacWEh3_yqtFXiQ-yluJ2w4i0",L="AUTH_START",T="AUTH_SUCCESS",C="AUTH_FAIL",F="AUTH_LOGOUT",R="AUTH_SET_NAME",M=function(){return{type:L}},D=function(e,t,n){return{type:T,token:e,localId:t,name:n}},E=function(e){return{type:C,error:e}},q=function(e){return function(t){setTimeout((function(){t((localStorage.removeItem("token"),localStorage.removeItem("expiresOn"),localStorage.removeItem("localId"),localStorage.removeItem("name"),{type:F}))}),1e3*e)}},B=function(e,t){A.a.post("https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyCAvwqMshaacWEh3_yqtFXiQ-yluJ2w4i0",{idToken:e,displayName:t})},P=Object(v.b)(null,(function(e){return{onAuth:function(t,n,a,c){return e(function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(c){c(M());var i={email:e,password:t,returnSecureToken:!0},r=w;n||(r=y),A.a.post(r,i).then((function(e){var t=e.data,n=t.expiresIn,i=t.idToken,r=t.localId,s=new Date((new Date).getTime()+1e3*n);localStorage.setItem("token",i),localStorage.setItem("expiresOn",s),localStorage.setItem("localId",r),c(D(i,r)),c(q(n)),a&&""!==a.trim()&&B(i,a)})).catch((function(e){c(E(e.response.data.error))}))}}(t,n,a,c))}}}))((function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),l=s[0],u=s[1],d=Object(a.useState)(""),j=Object(o.a)(d,2),h=j[0],p=j[1],v=Object(a.useState)(""),x=Object(o.a)(v,2),_=x[0],N=x[1],k=Object(a.useMemo)((function(){return b(l,O)}),[l]),A=Object(a.useMemo)((function(){return b(h,g)}),[h]),y=Object(a.useMemo)((function(){return b(_,f)}),[_]);return Object(m.jsxs)("form",{className:S.a.Form,onSubmit:function(t){t.preventDefault(),console.log("Submit handler is workingd"),!c&&k&&y&&A?(console.log("Register!"),e.onAuth(h,_,c,l)):c&&A&&y&&(console.log("User is already signed up, login"),e.onAuth(h,_,c))},children:[Object(m.jsx)("span",{className:S.a.Title,children:c?"Log in":"Register"}),Object(m.jsxs)("span",{className:S.a.Data,children:[!c&&Object(m.jsxs)("div",{className:S.a.InputWrapper,children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{className:S.a.Input,type:"text",placeholder:"First name",value:l,onChange:function(e){return u(e.target.value)},required:!0}),Object(m.jsx)("span",{className:S.a.LabelDescription,children:"First name"})]}),!k&&""!==l&&Object(m.jsx)("span",{className:S.a.InvalidResponse,children:"Provide valid first name"})]}),Object(m.jsxs)("div",{className:S.a.InputWrapper,children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{className:S.a.Input,type:"email",placeholder:"Email",value:h,onChange:function(e){return p(e.target.value)},required:!0}),Object(m.jsx)("span",{className:S.a.LabelDescription,children:"Email"})]}),!A&&""!==h&&Object(m.jsx)("span",{className:S.a.InvalidResponse,children:"Provide valid email adress"})]}),Object(m.jsxs)("div",{className:S.a.InputWrapper,children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{className:S.a.Input,type:"password",placeholder:"Password",value:_,onChange:function(e){return N(e.target.value)},required:!0}),Object(m.jsx)("span",{className:S.a.LabelDescription,children:"Password"})]}),!y&&""!==_&&Object(m.jsx)("span",{className:S.a.InvalidResponse,children:"Correct password contains at least 8 characters, one capital letter, a number and special character"})]})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)(I,{children:c?"SIGN IN":"SIGN UP"}),Object(m.jsx)("h3",{className:S.a.AuthMode,onClick:function(){return i(!c)},children:c?"You don\u2019t have an account yet? Sign up":"Already have an account? Sign in"})]})]})})),z=n(38),U=n.n(z),W=n(39),J=n.n(W),X=function(e){return e.show?Object(m.jsx)("div",{className:J.a.Backdrop,onClick:e.clicked}):null},H=function(e){var t=e.show,n=e.modalClosed,a=e.children;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(X,{show:t,clicked:n}),Object(m.jsx)("div",{className:U.a.Modal,style:{transform:t?"scale(1)":"scale(0)",opacity:t?1:0},children:a})]})},Q=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("ul",{className:u.a.NavigationItems,children:[Object(m.jsx)(p,{link:"/",exact:!0,children:Object(m.jsx)("span",{className:u.a.Logo,children:"Info.memo()"})}),Object(m.jsxs)("span",{className:u.a.NavRightSide,children:[Object(m.jsx)("li",{onClick:function(){return i((function(e){return!e}))},children:"Register / Log in"}),Object(m.jsx)(p,{link:"/study",children:"Study"})]})]}),Object(m.jsx)(H,{show:c,modalClosed:function(){i((function(e){return!e}))},children:Object(m.jsx)(P,{})})]})},Z=function(e){return Object(m.jsx)("nav",{className:"Navbar",children:Object(m.jsx)(Q,{})})},G=(n(72),function(e){return Object(m.jsx)("div",{className:"Footer",children:"Joy Rzepecka"})}),$=(n(73),function(e){return Object(m.jsx)("div",{className:"Main",children:"kocham Ci\u0119 Kornelcia!"})});var V=Object(s.f)((function(){var e=Object(m.jsxs)(s.c,{children:[Object(m.jsx)(s.a,{path:"/auth"}),Object(m.jsx)(s.a,{})]});return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(Z,{}),e,Object(m.jsx)($,{}),Object(m.jsx)(G,{})]})})),K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},Y=n(11),ee=n(40),te=n(10),ne={token:null,localId:null,name:"",loading:!1,error:null,redirectPath:"/"},ae=function(e,t){return Object(te.a)(Object(te.a)({},e),{},{error:null,loading:!0})},ce=function(e,t){return Object(te.a)(Object(te.a)({},e),{},{error:t.error,loading:!1})},ie=function(e,t){return Object(te.a)(Object(te.a)({},e),{},{error:null,loading:!1,token:t.token,localId:t.localId,name:t.name})},re=function(e,t){return Object(te.a)(Object(te.a)({},e),{},{token:null,localId:null,name:""})},se=function(e,t){return Object(te.a)(Object(te.a)({},e),{},{name:t.name})},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return ae(e);case C:return ce(e,t);case T:return ie(e,t);case F:return re(e);case R:return se(e,t);default:return e}},le={},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return e},de=Object(Y.c)({authReducer:oe,flashcardsReducer:ue}),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,he=de,me=Object(Y.e)(he,je(Object(Y.a)(ee.a))),pe=Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(v.a,{store:me,children:Object(m.jsx)(h.a,{children:Object(m.jsx)(V,{})})})});r.a.render(pe,document.getElementById("root")),K()}},[[74,1,2]]]);
//# sourceMappingURL=main.8a616a04.chunk.js.map